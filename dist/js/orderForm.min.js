let btnsPlus=document.querySelectorAll(".btn-plus"),btnsMinus=document.querySelectorAll(".btn-minus"),counters=document.querySelectorAll(".rooms-counter"),rooms={};for(let e=0;e<counters.length;e++)rooms[counters[e].getAttribute("data-room")]=0;for(let e=0;e<counters.length;e++)btnsPlus[e].addEventListener("click",(function(){let t=++counters[e].innerHTML;counters[e].innerHTML=t,rooms[counters[e].getAttribute("data-room")]=t,t>0&&(btnsMinus[e].disabled=!1)})),btnsMinus[e].addEventListener("click",(function(){if(0!=counters[e].innerHTML){let t=--counters[e].innerHTML;counters[e].innerHTML=t,rooms[counters[e].getAttribute("data-room")]=t,0===t&&(this.disabled=!0)}}));window.onload=function(){function e(e){e.parentElement.classList.add("_error"),e.classList.add("_error")}function t(e){e.parentElement.classList.remove("_error"),e.classList.remove("_error")}function n(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}document.getElementById("form").addEventListener("submit",(async function(r){r.preventDefault();let o=document.getElementById("form"),s=function(){let r=0,o=document.querySelectorAll("._req");for(let s=0;s<o.length;s++){const l=o[s];t(l),l.classList.contains("_email")?n(l)&&(e(l),r++):""===l.value&&(e(l),r++)}return r}(),l=new FormData(o);for(let e=0;e<counters.length;e++)0!=rooms[counters[e].getAttribute("data-room")]&&l.append(counters[e].getAttribute("data-room"),rooms[counters[e].getAttribute("data-room")]);if(0===s){o.classList.add("__sending");let e=await fetch("sendOrderForm.php",{method:"POST",body:l});if(e.ok){let t=await e.json();alert(t.message),o.reset();for(let e=0;e<counters.length;e++)counters.innerHTML="0";o.classList.remove("_sending")}else alert("Error..."),o.classList.remove("_sending")}else alert("Enter required fields")}))};