let btnsPlus=document.querySelectorAll(".btn-plus"),btnsMinus=document.querySelectorAll(".btn-minus"),counters=document.querySelectorAll(".rooms-counter"),rooms={};for(let e=0;e<counters.length;e++)rooms[counters[e].getAttribute("data-room")]=0;console.log(rooms);for(let e=0;e<counters.length;e++)btnsPlus[e].addEventListener("click",(function(){let t=++counters[e].innerHTML;counters[e].innerHTML=t,rooms[counters[e].getAttribute("data-room")]=t,t>0&&(btnsMinus[e].disabled=!1)})),btnsMinus[e].addEventListener("click",(function(){if(0!=counters[e].innerHTML){let t=--counters[e].innerHTML;counters[e].innerHTML=t,rooms[counters[e].getAttribute("data-room")]=t,0===t&&(this.disabled=!0)}}));window.onload=function(){function e(e){e.parentElement.classList.add("_error"),e.classList.add("_error")}function t(e){e.parentElement.classList.remove("_error"),e.classList.remove("_error")}function o(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}document.getElementById("form").addEventListener("submit",(async function(n){n.preventDefault();let r=document.getElementById("form"),s=function(){let n=0,r=document.querySelectorAll("._req");for(let s=0;s<r.length;s++){const l=r[s];t(l),l.classList.contains("_email")?o(l)&&(e(l),n++):""===l.value&&(e(l),n++)}return n}(),l=new FormData(r);for(let e=0;e<counters.length;e++)0!=rooms[counters[e].getAttribute("data-room")]&&l.append(counters[e].getAttribute("data-room"),rooms[counters[e].getAttribute("data-room")]);console.log(l.get("salon"));for(let e of l.values())console.log(e);if(console.log(l.get("outdoor")),0===s){r.classList.add("__sending");let e=await fetch("sendOrderForm.php",{method:"POST",body:l});if(e.ok){let t=await e.json();alert(t.message),r.reset(),r.classList.remove("_sending")}else alert("Error..."),r.classList.remove("_sending")}else alert("Enter required fields")}))};