let counter,images=document.querySelectorAll(".img-gallery img");function customSlider(e,t=document.body){this.classes=e,this.parent=t,this.init=function(){let e=document.createElement("div");return this.classes.forEach(t=>{e.classList.add(t)}),this.parent.appendChild(e),e}}function customBtn(e,t,i,n=document.body){this.content=e,this.id=t,this.clickHandler=i,this.parent=n,this.init=function(){let e=document.createElement("button");return this.parent.appendChild(e),e.classList.add("btn-slider"),e.setAttribute("id",this.id),e.innerHTML=this.content,e.addEventListener("click",this.clickHandler),e}}let sliderClasses=["my-custom-slider","inactive"],slider=new customSlider(sliderClasses).init(),btnRight=new customBtn('<i class="fas fa-arrow-right"></i>',"btn-right",rightClickHandler,slider).init(),btnLeft=new customBtn('<i class="fas fa-arrow-left"></i>',"btn-left",leftClickHandler,slider).init(),btnClose=new customBtn('<i class="fas fa-times"></i>',"btn-close",closeClickHandler,slider).init();Array.from(images).forEach(e=>{let t=document.createElement("img");t.setAttribute("src",e.src),slider.appendChild(t)});let imagesSlider=document.querySelectorAll(".my-custom-slider img");for(let e=0;e<images.length;e++)images[e].addEventListener("click",(function(t){console.log("clicked",t.target),t.stopPropagation(),counter=e,slider.classList.remove("inactive"),imageInit()}));function rightClickHandler(){counter++,counter===imagesSlider.length&&(counter=0),imageInit()}function leftClickHandler(){counter--,-1===counter&&(counter=imagesSlider.length-1),imageInit()}function closeClickHandler(){slider.classList.add("inactive")}function imageInit(){for(let e=0;e<imagesSlider.length;e++)imagesSlider[e].style.opacity="0";imagesSlider[counter].style.opacity="1"}function clickOutsideHandler(e){e.target!==document.querySelector(".my-custom-slider")&&!e.target.closest(".btn-slider")&&Array.from(!imagesSlider).some(t=>e.target==t)&&slider.classList.add("inactive")}document.body.addEventListener("click",clickOutsideHandler);